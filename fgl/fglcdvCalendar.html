<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--don't touch - generated by xa2html.xsl--><html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>API - fglcdvCalendar</title>
<link rel="stylesheet" type="text/css" href="../fgldoc.css">
</head>
<body>
<a id="top"></a><span><table BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY=""><tr>
<td><a href="../overview-summary.html">Overview</a></td>
<td><a href="package-summary.html">Package</a></td>
<td><b>Class</b></td>
<td><a href="../index-all.html">Index</a></td>
<td><a href="#top" target="_top">No Frames</a></td>
<td><a href="../index.html" target="_top">Frames</a></td>
<td>Prev</td>
<td>Next</td>
</tr></table>
<br><small>Summary: <a href="#function_summary">FUNCTION</a></small><hr>
<b>fgl</b><h1>fglcdvCalendar</h1>
<p> Genero 4GL wrapper around the Calendar plugin
 at https://github.com/FourjsGenero-Cordova-Plugins/Calendar-PhoneGap-Plugin</p>
<a id="function_summary"></a><table border="1" width="100%" cellpadding="3" cellspacing="0" class="summary">
<tr><th class="summary" colspan="2">FUNCTION Summary</th></tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#createCalendar">createCalendar</a></b>(calendarName STRING, color STRING)<br> Creates a new Calendar
 (Android: no clue how the createEvent/findEvent/deleteEvent functions can act on this calendar )</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#createEventInteractively">createEventInteractively</a></b>(options RECORD)<br> Creates a new Event interactively with a native UI dialog</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#createEventWithOptions">createEventWithOptions</a></b>(options RECORD)<br> Creates a new Event</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#dateTime2MilliSinceEpoch">dateTime2MilliSinceEpoch</a></b>(d DATETIME YEAR TO SECOND)<br> Converts a 4GL date into the milliseconds since 1970 
 (this is what a new Date.getTime() returns in JS)</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#deleteCalendar">deleteCalendar</a></b>(calendarName STRING)<br> Deletes the given calendar</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#deleteEvent">deleteEvent</a></b>(event RECORD, spanFutureEvents BOOLEAN)<br> Deletes an event for the active calendar</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#deleteEventFromNamedCalendar">deleteEventFromNamedCalendar</a></b>(event RECORD, spanFutureEvents BOOLEAN, calendarName STRING)<br> Deletes an event for a specific calendar : IOS only .</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#deleteEventFromNamedCalendarWithFindOptions">deleteEventFromNamedCalendarWithFindOptions</a></b>(findOptions RECORD, spanFutureEvents BOOLEAN, calendarName STRING)<br> Deletes an event for a specific calendar : IOS only .
 The given parameters are used to identify one or more events
 so for example events in a given time frame can be deleted.</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#deleteEventWithFindOptions">deleteEventWithFindOptions</a></b>(findOptions RECORD, spanFutureEvents BOOLEAN)<br> Deletes an event for the active calendar
 the given parameters are used to identify one or more events
 so for example events in a given time frame can be deleted</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#findEventsWithOptions">findEventsWithOptions</a></b>(options RECORD)<br> finds events either via id or by the combination of title...endTime
 the calendarName option is only valid under IOS and only effective if
 id is not set</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#getFindOptions">getFindOptions</a></b>()<br> Helper function for findEventsWithOptions</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#getLastError">getLastError</a></b>()<br> gives back the last Error message of the previous operation </td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#hasReadPermission">hasReadPermission</a></b>()<br> Checks if we are allowed to read from the Calendar
 On IOS this includes also the write permission</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#hasReadWritePermission">hasReadWritePermission</a></b>()<br> Checks if we are allowed to read/write information from/to the Calendar</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#hasWritePermission">hasWritePermission</a></b>()<br> Checks if we are allowed to write information to the Calendar
 On IOS this include also the read permission</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#init">init</a></b>()<br> inits the plugin
 must be called prior other calls</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#isRecurring">isRecurring</a></b>(event RECORD)<br> return whether the given event is a recurring event</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#listCalendars">listCalendars</a></b>()<br> Returns a list of all calendars</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#main">main</a></b>()<br>
</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#modifyEventInteractively">modifyEventInteractively</a></b>(event RECORD)<br> modifies the given event in a native UI dialog</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#modifyEventWithOptions">modifyEventWithOptions</a></b>(findOptions RECORD, changeOptions RECORD)<br> this function is implemented only on IOS and allows to modify an existing event</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#openCalendar">openCalendar</a></b>(d DATETIME YEAR TO SECOND)<br> opens the calendar app on the device for a specific date</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#requestReadPermission">requestReadPermission</a></b>()<br> Explicitly show the permission dialog in case we have no permission
 On IOS this includes also the write permission</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#requestReadWritePermission">requestReadWritePermission</a></b>()<br> Explicitly show the permission dialog in case we have no permission</td>
</tr>
<tr>
<td class="summary-text"></td>
<td class="summary-text">
<b><a href="#requestWritePermission">requestWritePermission</a></b>()<br> Explicitly show the permission dialog in case we have no permission</td>
</tr>
</table>
<br><h2>Functions</h2>
<a id="createCalendar"> </a><h3>createCalendar</h3>
<tt>FUNCTION <b>createCalendar</b>(calendarName STRING, color STRING)</tt><dl>
<dd><p> Creates a new Calendar
 (Android: no clue how the createEvent/findEvent/deleteEvent functions can act on this calendar )</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>calendarName</code> - name for the newly created calendar<br><code>color</code> - a webbish rgb value a la '#ff0000' is required, or NULL<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>NULL on error, an id for the created calendar<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="createEventInteractively"> </a><h3>createEventInteractively</h3>
<tt>FUNCTION <b>createEventInteractively</b>(options RECORD)</tt><dl>
<dd><p> Creates a new Event interactively with a native UI dialog</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>options</code> - see eventOptionsT<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>an event id on success, NULL in the error case
 use getLastError() to retrieve the error message
 on IOS the event id can be used to modify or delete the event
 on Android the event id can not be used for further operations<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="createEventWithOptions"> </a><h3>createEventWithOptions</h3>
<tt>FUNCTION <b>createEventWithOptions</b>(options RECORD)</tt><dl>
<dd><p> Creates a new Event</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>options</code> - see eventOptionsT<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>an event id on success, NULL in the error case
 use getLastError() to retrieve the error message
 on IOS the event id can be used to modify or delete the event
 on Android the event id can not be used for further operations<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="dateTime2MilliSinceEpoch"> </a><h3>dateTime2MilliSinceEpoch</h3>
<tt>FUNCTION <b>dateTime2MilliSinceEpoch</b>(d DATETIME YEAR TO SECOND)</tt><dl>
<dd><p> Converts a 4GL date into the milliseconds since 1970 
 (this is what a new Date.getTime() returns in JS)</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>d</code> - the Date to convert<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>the milliseconds since 01/01/1970<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="deleteCalendar"> </a><h3>deleteCalendar</h3>
<tt>FUNCTION <b>deleteCalendar</b>(calendarName STRING)</tt><dl>
<dd><p> Deletes the given calendar</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>calendarName</code> - must not be NULL<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>NULL on error , an ok string indicating the deletion was performed otherwise<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="deleteEvent"> </a><h3>deleteEvent</h3>
<tt>FUNCTION <b>deleteEvent</b>(event RECORD, spanFutureEvents BOOLEAN)</tt><dl>
<dd><p> Deletes an event for the active calendar</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>event</code> - structure returned by findEvent<br><code>spanFutureEvents</code> - If set and the event is recurring, all recurring events will be removed too, otherwise only the event with matching startDate etc will be deleted<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>NULL in the error case, an non NULL string in the case the deletion was successful, use getLastError() to get the error reason<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="deleteEventFromNamedCalendar"> </a><h3>deleteEventFromNamedCalendar</h3>
<tt>FUNCTION <b>deleteEventFromNamedCalendar</b>(event RECORD, spanFutureEvents BOOLEAN, calendarName STRING)</tt><dl>
<dd><p> Deletes an event for a specific calendar : IOS only .</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>event</code> - structure returned by findEvent<br><code>spanFutureEvents</code> - If set and the event is recurring, all recurring events will be removed too, otherwise only the event with matching startDate etc will be deleted<br><code>calendarName</code> - calendar where the deletion should take place<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>NULL in the error case, an non NULL string in the case the deletion was successful, use getLastError() to get the error reason<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="deleteEventFromNamedCalendarWithFindOptions"> </a><h3>deleteEventFromNamedCalendarWithFindOptions</h3>
<tt>FUNCTION <b>deleteEventFromNamedCalendarWithFindOptions</b>(findOptions RECORD, spanFutureEvents BOOLEAN, calendarName STRING)</tt><dl>
<dd><p> Deletes an event for a specific calendar : IOS only .
 The given parameters are used to identify one or more events
 so for example events in a given time frame can be deleted.</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>findOptions</code> - same as for finding an event<br><code>spanFutureEvents</code> - If set and the event is recurring, all recurring events will be removed too, otherwise only the event with matching startDate etc will be deleted<br><code>calendarName</code> - calendar where the deletion should take place<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>NULL in the error case, an non NULL string in the case the deletion was successful, use getLastError() to get the error reason<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="deleteEventWithFindOptions"> </a><h3>deleteEventWithFindOptions</h3>
<tt>FUNCTION <b>deleteEventWithFindOptions</b>(findOptions RECORD, spanFutureEvents BOOLEAN)</tt><dl>
<dd><p> Deletes an event for the active calendar
 the given parameters are used to identify one or more events
 so for example events in a given time frame can be deleted</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>findOptions</code> - same as for finding an event<br><code>spanFutureEvents</code> - If set and the event is recurring, all recurring events will be removed too, otherwise only the event with matching startDate etc will be deleted<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>NULL in the error case, an non NULL string in the case the deletion was successful, use getLastError() to get the error reason<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="findEventsWithOptions"> </a><h3>findEventsWithOptions</h3>
<tt>FUNCTION <b>findEventsWithOptions</b>(options RECORD)</tt><dl>
<dd>
<p> finds events either via id or by the combination of title...endTime
 the calendarName option is only valid under IOS and only effective if
 id is not set</p>
<p>
      <span><pre>   DEFINE options fglcdvCalendar.findOptionsT
   DEFINE eventArr DYNAMIC ARRAY OF fglcdvCalendar.eventType
   LET options=fglcdvCalendar.getFindOptions()
   LET options.startTime=CURRENT
   LET options.endTime=CURRENT+7
   --return the events for 1 week in the default calendar
   CALL fglcdvCalendar.findEventWithOptions(options) RETURNING eventArr</pre></span>
    </p>
</dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>options</code> - see findOptionsT<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>an array of events (can be empty) + an NOT NULL error string in the error case<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="getFindOptions"> </a><h3>getFindOptions</h3>
<tt>FUNCTION <b>getFindOptions</b>()</tt><dl>
<dd><p> Helper function for findEventsWithOptions</p></dd>
<dd><dl>
<dt><b>Returns:</b></dt>
<dd>an initialized findOptionsT RECORD<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="getLastError"> </a><h3>getLastError</h3>
<tt>FUNCTION <b>getLastError</b>()</tt><dl>
<dd><p> gives back the last Error message of the previous operation </p></dd>
<dd><dl>
<dt><b>Returns:</b></dt>
<dd>the error message<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="hasReadPermission"> </a><h3>hasReadPermission</h3>
<tt>FUNCTION <b>hasReadPermission</b>()</tt><dl>
<dd><p> Checks if we are allowed to read from the Calendar
 On IOS this includes also the write permission</p></dd>
<dd><dl>
<dt><b>Returns:</b></dt>
<dd>TRUE upon success, FALSE otherwise<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="hasReadWritePermission"> </a><h3>hasReadWritePermission</h3>
<tt>FUNCTION <b>hasReadWritePermission</b>()</tt><dl>
<dd><p> Checks if we are allowed to read/write information from/to the Calendar</p></dd>
<dd><dl>
<dt><b>Returns:</b></dt>
<dd>TRUE upon success, FALSE otherwise<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="hasWritePermission"> </a><h3>hasWritePermission</h3>
<tt>FUNCTION <b>hasWritePermission</b>()</tt><dl>
<dd><p> Checks if we are allowed to write information to the Calendar
 On IOS this include also the read permission</p></dd>
<dd><dl>
<dt><b>Returns:</b></dt>
<dd>TRUE upon success, FALSE otherwise<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="init"> </a><h3>init</h3>
<tt>FUNCTION <b>init</b>()</tt><dl>
<dd><p> inits the plugin
 must be called prior other calls</p></dd>
<dd><dl></dl></dd>
</dl>
<hr>
<a id="isRecurring"> </a><h3>isRecurring</h3>
<tt>FUNCTION <b>isRecurring</b>(event RECORD)</tt><dl>
<dd><p> return whether the given event is a recurring event</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>event</code> - event returned by findEvents...<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>TRUE is recurring, FALSE if NOT recurring<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="listCalendars"> </a><h3>listCalendars</h3>
<tt>FUNCTION <b>listCalendars</b>()</tt><dl>
<dd><p> Returns a list of all calendars</p></dd>
<dd><dl>
<dt><b>Returns:</b></dt>
<dd>a list of calendars + a non NULL error string in the error case<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="main"> </a><h3>main</h3>
<tt>FUNCTION <b>main</b>()</tt><dl>
<dd></dd>
<dd><dl></dl></dd>
</dl>
<hr>
<a id="modifyEventInteractively"> </a><h3>modifyEventInteractively</h3>
<tt>FUNCTION <b>modifyEventInteractively</b>(event RECORD)</tt><dl>
<dd><p> modifies the given event in a native UI dialog</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>event</code> - the event to modify<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="modifyEventWithOptions"> </a><h3>modifyEventWithOptions</h3>
<tt>FUNCTION <b>modifyEventWithOptions</b>(findOptions RECORD, changeOptions RECORD)</tt><dl>
<dd><p> this function is implemented only on IOS and allows to modify an existing event</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>findOptions</code> - if the find options contain a valid event id
 (returned by createEventWithOptions) the changes act on that event
 using NULL for the id uses the title,location etc to find the event<br><code>changeOptions</code> - contains the values to be override the old values in the event<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>the event Identifier if a change took place, NULL otherwise
 in the error case the error can be retrieved with getLastError()<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="openCalendar"> </a><h3>openCalendar</h3>
<tt>FUNCTION <b>openCalendar</b>(d DATETIME YEAR TO SECOND)</tt><dl>
<dd><p> opens the calendar app on the device for a specific date</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>d</code> - The date the calendar app should display<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="requestReadPermission"> </a><h3>requestReadPermission</h3>
<tt>FUNCTION <b>requestReadPermission</b>()</tt><dl>
<dd><p> Explicitly show the permission dialog in case we have no permission
 On IOS this includes also the write permission</p></dd>
<dd><dl>
<dt><b>Returns:</b></dt>
<dd>TRUE upon success, FALSE otherwise<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="requestReadWritePermission"> </a><h3>requestReadWritePermission</h3>
<tt>FUNCTION <b>requestReadWritePermission</b>()</tt><dl>
<dd><p> Explicitly show the permission dialog in case we have no permission</p></dd>
<dd><dl>
<dt><b>Returns:</b></dt>
<dd>TRUE upon success, FALSE otherwise<br>
</dd>
</dl></dd>
</dl>
<hr>
<a id="requestWritePermission"> </a><h3>requestWritePermission</h3>
<tt>FUNCTION <b>requestWritePermission</b>()</tt><dl>
<dd><p> Explicitly show the permission dialog in case we have no permission</p></dd>
<dd><dl>
<dt><b>Returns:</b></dt>
<dd>TRUE upon success, FALSE otherwise<br>
</dd>
</dl></dd>
</dl>
<hr>
<table BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY=""><tr>
<td><a href="../overview-summary.html">Overview</a></td>
<td><a href="package-summary.html">Package</a></td>
<td><b>Class</b></td>
<td><a href="../index-all.html">Index</a></td>
<td><a href="#top" target="_top">No Frames</a></td>
<td><a href="../index.html" target="_top">Frames</a></td>
<td>Prev</td>
<td>Next</td>
</tr></table></span>
</body>
</html>
